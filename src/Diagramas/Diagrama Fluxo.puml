@startuml
start
:Usuário abre o aplicativo;
:Exibe Tela Principal;
:Usuário escolhe uma ação;

if (Buscar Música?) then (Sim)
    :Usuário digita o nome da música;
    :Chama API do Spotify para buscar a música;
    if (Música encontrada?) then (Sim)
        :Exibir lista de músicas encontradas;
        :Usuário seleciona uma música;
        if (Adicionar à Playlist?) then (Sim)
            :Usuário escolhe uma playlist ou cria uma nova;
            :Adicionar música à playlist escolhida;
            :Playlist salva no sistema;
        endif
    else (Não)
        :Exibir mensagem "Música não encontrada";
    endif
endif

if (Criar Playlist?) then (Sim)
    :Usuário insere nome da Playlist;
    :Criar nova Playlist;
    if (Adicionar Músicas Agora?) then (Sim)
        :Usuário escolhe músicas da biblioteca ou busca na API;
        :Adicionar músicas à Playlist;
    endif
    :Playlist salva no sistema;
endif

if (Explorar Playlists?) then (Sim)
    :Exibir todas as playlists do usuário;
    :Usuário pode selecionar uma playlist para visualizar músicas;
    if (Remover Música da Playlist?) then (Sim)
        :Usuário seleciona música para remover;
        :Remover música da playlist;
    endif
endif

if (Reproduzir Música?) then (Sim)
    :Usuário seleciona uma música da biblioteca ou playlist;
    :Chamar API do Spotify para tocar música;
    :Atualizar interface para exibir controles de reprodução;

    while (Usuário não interrompe?) is (Não)
        :Música continua tocando;
    endwhile

    if (Usuário pausa ou troca de música?) then (Sim)
        :Atualizar reprodução;
    endif
endif

stop
@enduml
